# 🚀 CalendarApp 快速启动指南

## ✅ 当前状态

- ✅ Metro 服务器已启动并运行在 http://localhost:8081
- ✅ Android 模拟器已启动（Medium_Phone_API_36.1）
- ✅ Java 17 配置成功
- ✅ Android 构建成功

## 🎯 立即运行应用

在当前 PowerShell 窗口中执行：

```powershell
cd "g:\tencent homework\CalendarApp"
npm run android
```

**预期结果**: 应用将自动安装到模拟器并启动，你将看到带有三个底部标签的日历应用！

---

## 📱 如何启动模拟器（如果需要）

### 方法 1：使用命令行

```powershell
$env:PATH = "$env:LOCALAPPDATA\Android\Sdk\emulator;$env:LOCALAPPDATA\Android\Sdk\platform-tools;$env:PATH"
emulator -avd Medium_Phone_API_36.1
```

### 方法 2：使用 Android Studio

1. 打开 Android Studio
2. 点击右上角的 **Device Manager**（设备管理器）
3. 找到 `Medium_Phone_API_36.1`
4. 点击旁边的 **▶️ 播放按钮**启动

## 🎯 预期结果

应用成功启动后，你将看到：

- 📅 **日历** 标签：显示「日历首页」和「第 2 周将实现日历视图」
- 📋 **日程** 标签：显示「日程列表」
- ⚙️ **设置** 标签：显示「设置」
- ✅ 底部导航栏可以正常切换
- ✅ 热重载功能正常工作

---

## 🔧 重要配置说明

### Java 版本配置

项目现在使用 **Java 17**（而不是 Java 25）。配置文件位置：

- `android/gradle.properties` 已配置 `org.gradle.java.home`
- 指向：`C:\Program Files\Eclipse Adoptium\jdk-17.0.17.10-hotspot`

⚠️ **不要修改此配置**，否则会导致构建失败！

### Android SDK 配置

- `android/local.properties` 已配置 SDK 路径
- 位置：`C:\Users\user1\AppData\Local\Android\Sdk`

## ⚠️ 如果遇到问题

### 问题 1: "No connected devices!"

**原因**: 模拟器未启动或设备未连接

**解决方案**:

```powershell
# 启动模拟器
$env:PATH = "$env:LOCALAPPDATA\Android\Sdk\emulator;$env:LOCALAPPDATA\Android\Sdk\platform-tools;$env:PATH"
emulator -avd Medium_Phone_API_36.1

# 等待模拟器完全启动，然后在新窗口执行
# npm run android
```

### 问题 2: Java 版本错误

**错误信息**: `Could not initialize class org.gradle.toolchains...`

**解决方案**:
项目已配置使用 Java 17。如果仍然出错：

```powershell
cd android
.\gradlew --stop
.\gradlew clean
cd ..
npm run android
```

### 问题 3: Metro 服务器报错

**解决方案**:

```powershell
# 清除缓存重启
npm start -- --reset-cache
```

### 问题 4: 构建失败

**解决方案**:

```powershell
# 完全清理
cd android
.\gradlew clean
.\gradlew --stop
cd ..
rm -rf node_modules
npm install
npm run android
```

## ⌨️ Metro 服务器快捷键

在 Metro 服务器窗口中：

- **r** - 重新加载应用
- **d** - 打开开发菜单
- **j** - 打开 DevTools
- **Ctrl+C** - 停止服务器

在 Android 模拟器中：

- **Ctrl+M** (Windows) 或 **Cmd+D** (Mac) - 打开开发菜单
- **R 键双击** - 重新加载应用

---

## 📁 项目文件位置

| 文件类型   | 路径                                                |
| ---------- | --------------------------------------------------- |
| 项目根目录 | `g:\tencent homework\CalendarApp`                   |
| 源代码目录 | `g:\tencent homework\CalendarApp\src`               |
| 技术文档   | `g:\tencent homework\技术实施文档-第1-2周.md`       |
| 完成总结   | `g:\tencent homework\CalendarApp\第一周完成总结.md` |
| 开发计划   | `g:\tencent homework\日历应用开发计划.md`           |

---

## 💡 开发建议

1. **保持 Metro 服务器运行**
   - 在一个终端窗口中运行 `npm start`
   - 不要关闭这个窗口

2. **使用另一个终端**
   - 打开新的 PowerShell 窗口
   - 运行 `npm run android` 或其他命令

3. **热重载功能**
   - 修改代码后，保存文件
   - 在模拟器中双击 **R 键**即可重新加载
   - 或者在 Metro 窗口按 **r 键**

4. **开发菜单**
   - 在模拟器中按 **Ctrl+M** 打开
   - 可以访问调试工具、重新加载等功能

5. **查看日志**
   - Metro 窗口显示打包日志
   - Android 日志：`npx react-native log-android`

---

## 🎉 第一周完成！

恭喜你完成了第一周的所有任务：

✅ 项目创建与初始化  
✅ 代码规范配置  
✅ 依赖安装  
✅ 项目结构搭建  
✅ 导航系统实现  
✅ 主题系统配置  
✅ Java 17 配置  
✅ Android 构建成功

### 🚀 下一步

第二周将实现：

- 日期工具函数
- 状态管理（Zustand）
- 月视图、周视图、日视图
- 视图切换功能
- 通用 UI 组件

继续加油！💪
